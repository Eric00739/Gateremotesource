---
pagination:
  data: collections.posts
  size: 12
  alias: posts
  reverse: true
  permalink: "blog/{% if pagination.pageNumber > 0 %}page/{{ pagination.pageNumber + 1 }}/{% endif %}index.html"
lang: en
---
<!DOCTYPE html>
<html lang="{{ lang or site.lang }}" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="meta-title">{{ site.blogTitle }} | GateRemoteSource</title>
    <meta id="meta-description" name="description" content="{{ site.blogDescription }}">
    <meta id="meta-keywords" name="keywords" content="Garage Remote Programming, Locksmith Resources, Gate Installation Guides, Technical Tutorials, Access Control Blog">
    <meta name="author" content="GateRemoteSource">
    <link rel="canonical" href="{{ site.url }}{{ page.url | canonicalPath }}">
    <link rel="alternate" href="{{ site.url }}{{ page.url | langUrl(i18n.defaultLang) | canonicalPath }}" hreflang="x-default">
    {% for code in i18n.languages %}
    <link rel="alternate" href="{{ site.url }}{{ page.url | langUrl(code) | canonicalPath }}" hreflang="{{ code }}">
    {% endfor %}
    
    <script>
        (function() {
            var preferredHost = "www.gateremotesource.com";
            var currentProtocol = location.protocol;
            var currentHost = location.hostname;
            
            if (currentProtocol !== "https:") {
                var target = "https://" + currentHost + location.pathname + location.search + location.hash;
                if (target !== location.href) {
                    location.replace(target);
                }
                return;
            }
            
            if (currentHost !== preferredHost) {
                var target = "https://" + preferredHost + location.pathname + location.search + location.hash;
                if (target !== location.href) {
                    location.replace(target);
                }
            }
        })();
    </script>
    
    <meta property="og:type" content="website">
    <meta property="og:title" content="{{ site.blogTitle }} | GateRemoteSource">
    <meta property="og:description" content="{{ site.blogDescription }}">
    <meta property="og:url" content="{{ site.url }}{{ page.url | canonicalPath }}">
    <meta property="og:image" content="{{ site.url }}/logo/logo.png">
    <meta name="twitter:title" content="{{ site.blogTitle }} | GateRemoteSource">
    <meta name="twitter:description" content="{{ site.blogDescription }}">
    <meta name="twitter:image" content="{{ site.url }}/logo/logo.png">
    
    <link rel="icon" type="image/x-icon" href="/logo/favicon.ico?v=1">
    <link rel="icon" type="image/png" sizes="32x32" href="/logo/favicon-32.png?v=1">
    <link rel="icon" type="image/png" sizes="16x16" href="/logo/favicon-16.png?v=1">
    <link rel="apple-touch-icon" sizes="180x180" href="/logo/apple-touch-icon.png?v=1">
    <link rel="manifest" href="/site.webmanifest?v=1">
    
    <link rel="preconnect" href="https://www.googletagmanager.com">
    <link rel="preload" href="/assets/css/tailwind.css" as="style">
    <link rel="stylesheet" href="/assets/css/tailwind.css">
    <noscript><link rel="stylesheet" href="/assets/css/tailwind.css"></noscript>
    
    <link rel="preload" href="/assets/vendor/fontawesome/css/all.min.css" as="style">
    <link rel="stylesheet" href="/assets/vendor/fontawesome/css/all.min.css">
    <noscript><link rel="stylesheet" href="/assets/vendor/fontawesome/css/all.min.css"></noscript>
    
    <link rel="preload" href="/assets/fonts/inter/inter-400.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="/assets/fonts/inter/inter-600.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="/assets/fonts/inter/inter-700.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="/assets/css/fonts.css" as="style">
    <link rel="stylesheet" href="/assets/css/fonts.css">
    <noscript><link rel="stylesheet" href="/assets/css/fonts.css"></noscript>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZF8T77R309"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-ZF8T77R309');
    </script>
    
    <style>
        ::-webkit-scrollbar { width: 10px; }
        ::-webkit-scrollbar-track { background: #0f172a; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 5px; }
        ::-webkit-scrollbar-thumb:hover { background: #06b6d4; }
        
        .nav-link.active { color: #06b6d4 !important; font-weight: 700; border-bottom: 2px solid #06b6d4; }
        
        .lang-select {
            background-color: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 0.25rem 0.5rem;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            cursor: pointer;
            outline: none;
        }
        .lang-select option { background-color: #0f172a; color: white; }
        
        .article-card {
            transition: all 0.3s ease;
        }
        .article-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }
        
        .filter-btn.active {
            background-color: #06b6d4;
            color: white;
            border-color: #06b6d4;
        }
        
        .tag-pill {
            transition: all 0.2s ease;
        }
        .tag-pill:hover {
            background-color: #06b6d4;
            color: white;
            border-color: #06b6d4;
        }
    </style>
</head>
<body class="font-sans text-gray-300 bg-brand-surface selection:bg-brand-accent selection:text-white flex flex-col min-h-screen" data-meta-override="true" data-meta-page="blog">
    <!-- Navigation -->
    <nav class="fixed w-full z-50 bg-brand-dark/95 backdrop-blur border-b border-gray-800 transition-all duration-300">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <div class="flex-shrink-0 flex items-center gap-3 cursor-pointer">
                    <a href="/" class="flex items-center gap-3">
                        <div class="bg-white p-1.5 rounded-lg h-10 w-10 flex items-center justify-center">
                            <img src="/logo/logo.png" width="1024" height="1024" alt="GateRemoteSource Logo" class="h-full w-full object-contain">
                        </div>
                        <span class="font-bold text-2xl text-white tracking-tight">GateRemote<span class="text-brand-accent">Source</span></span>
                    </a>
                </div>
                
                <div class="hidden lg:flex space-x-8 items-center">
                    <a href="/" class="nav-link text-gray-300 hover:text-brand-accent transition font-semibold py-2" id="nav-home" data-i18n="navigation.home">Home</a>
                    <a href="/catalog/" class="nav-link text-gray-300 hover:text-brand-accent transition font-semibold py-2" id="nav-products" data-i18n="navigation.catalog">Catalog</a>
                    <a href="/oem/" class="nav-link text-gray-300 hover:text-brand-accent transition font-semibold py-2" id="nav-oem" data-i18n="navigation.oem">OEM/ODM</a>
                    <a href="/about/" class="nav-link text-gray-300 hover:text-brand-accent transition font-semibold py-2" id="nav-about" data-i18n="navigation.about">About</a>
                    <a href="/blog/" class="nav-link text-gray-300 hover:text-brand-accent transition font-semibold py-2 active" id="nav-blog" data-i18n="navigation.blog">Blog</a>
                    <a href="/contact/" class="nav-link text-gray-300 hover:text-brand-accent transition font-semibold py-2" id="nav-contact" data-i18n="navigation.contact">Contact</a>
                    
                    <div class="flex items-center ml-2 border-l border-gray-700 pl-4">
                        <div class="relative">
                            <button id="languageDropdownBtn" class="flex items-center gap-2 text-white hover:text-brand-accent transition">
                                <span id="currentFlag" class="text-xs font-semibold tracking-wide">EN</span>
                                <span id="currentLang" class="text-sm">English</span>
                                <i class="fa-solid fa-chevron-down text-xs"></i>
                            </button>
                            <div id="languageDropdown" class="absolute right-0 mt-2 w-48 bg-brand-surface border border-gray-700 rounded-lg shadow-lg hidden z-50">
                                <a href="#" onclick="changeLanguage('en')" class="flex items-center gap-3 px-4 py-3 hover:bg-brand-dark transition">
                                    <span class="text-xs font-semibold">EN</span>
                                    <span class="text-white">English</span>
                                </a>
                                <a href="#" onclick="changeLanguage('es')" class="flex items-center gap-3 px-4 py-3 hover:bg-brand-dark transition">
                                    <span class="text-xs font-semibold">ES</span>
                                    <span class="text-white">Espanol</span>
                                </a>
                                <a href="#" onclick="changeLanguage('de')" class="flex items-center gap-3 px-4 py-3 hover:bg-brand-dark transition">
                                    <span class="text-xs font-semibold">DE</span>
                                    <span class="text-white">Deutsch</span>
                                </a>
                                <a href="#" onclick="changeLanguage('it')" class="flex items-center gap-3 px-4 py-3 hover:bg-brand-dark transition">
                                    <span class="text-xs font-semibold">IT</span>
                                    <span class="text-white">Italiano</span>
                                </a>
                                <a href="#" onclick="changeLanguage('fr')" class="flex items-center gap-3 px-4 py-3 hover:bg-brand-dark transition">
                                    <span class="text-xs font-semibold">FR</span>
                                    <span class="text-white">Francais</span>
                                </a>
                                <a href="#" onclick="changeLanguage('pt')" class="flex items-center gap-3 px-4 py-3 hover:bg-brand-dark transition">
                                    <span class="text-xs font-semibold">PT</span>
                                    <span class="text-white">Portugues</span>
                                </a>
                            </div>
                        </div>
                    </div>
                    
                    <a href="/contact/" class="bg-brand-accent hover:bg-brand-hover text-white px-6 py-2 rounded-lg font-bold transition shadow-[0_0_15px_rgba(6,182,212,0.3)] hover:shadow-[0_0_25px_rgba(6,182,212,0.6)] transform hover:-translate-y-0.5" data-i18n="navigation.dealer_login" data-cta="nav_get_price_list">
                        Quote now
                    </a>
                </div>
                
                <div class="lg:hidden flex items-center gap-4">
                    <button id="mobile-menu-btn" class="text-white text-2xl focus:outline-none">
                        <i class="fa-solid fa-bars"></i>
                    </button>
                </div>
            </div>
        </div>
        
        <div id="mobile-menu" class="lg:hidden bg-brand-surface border-b border-gray-700 hidden">
            <div class="px-4 pt-2 pb-6 space-y-2">
                <a href="/" class="block px-3 py-3 rounded-md text-base font-semibold text-white hover:bg-brand-dark hover:text-brand-accent" data-i18n="navigation.home">Home</a>
                <a href="/catalog/" class="block px-3 py-3 rounded-md text-base font-semibold text-white hover:bg-brand-dark hover:text-brand-accent" data-i18n="navigation.catalog">Catalog</a>
                <a href="/oem/" class="block px-3 py-3 rounded-md text-base font-semibold text-white hover:bg-brand-dark hover:text-brand-accent" data-i18n="navigation.oem">OEM/ODM</a>
                <a href="/about/" class="block px-3 py-3 rounded-md text-base font-semibold text-white hover:bg-brand-dark hover:text-brand-accent" data-i18n="navigation.about">About</a>
                <a href="/blog/" class="block px-3 py-3 rounded-md text-base font-semibold text-white hover:bg-brand-dark hover:text-brand-accent" data-i18n="navigation.blog">Blog</a>
                <a href="/contact/" class="block px-3 py-3 rounded-md text-base font-semibold text-brand-accent font-bold" data-i18n="navigation.contact" data-cta="mobile_get_price_list">Quote now</a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="pt-28 pb-24 bg-brand-surface min-h-screen">
        <!-- Hero Section -->
        <section class="pb-12">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                    <div class="space-y-6">
                        <span class="text-xs uppercase tracking-wider text-brand-accent font-bold">Installer Hub</span>
                        <h1 class="text-4xl md:text-5xl font-bold text-white" data-i18n="blog.title">{{ site.blogTitle }}</h1>
                        <p class="text-gray-400 max-w-2xl" data-i18n="blog.subtitle">{{ site.blogDescription }}</p>
                        <div class="flex flex-wrap gap-3 text-sm text-gray-400">
                            <span class="flex items-center gap-2 bg-brand-dark/50 border border-gray-700 rounded-full px-3 py-1">
                                <i class="fa-solid fa-circle-check text-brand-accent"></i>
                                <span>Programming and compatibility guides</span>
                            </span>
                            <span class="flex items-center gap-2 bg-brand-dark/50 border border-gray-700 rounded-full px-3 py-1">
                                <i class="fa-solid fa-circle-check text-brand-accent"></i>
                                <span>RF troubleshooting and range fixes</span>
                            </span>
                            <span class="flex items-center gap-2 bg-brand-dark/50 border border-gray-700 rounded-full px-3 py-1">
                                <i class="fa-solid fa-circle-check text-brand-accent"></i>
                                <span>Distributor-ready sales playbooks</span>
                            </span>
                        </div>
                        <div class="flex flex-wrap gap-4 items-center text-sm text-gray-400">
                            <div class="bg-brand-dark/50 border border-gray-700 rounded-lg px-4 py-2">
                                <span class="text-white font-bold">{{ collections.posts.length }}</span> total guides
                            </div>
                            <div class="bg-brand-dark/50 border border-gray-700 rounded-lg px-4 py-2">
                                Updated weekly by factory engineers
                            </div>
                        </div>
                        <div class="flex flex-wrap gap-3">
                            <a href="/contact/" class="bg-brand-accent hover:bg-brand-hover text-white px-6 py-3 rounded-lg font-bold transition shadow-[0_0_15px_rgba(6,182,212,0.3)] hover:shadow-[0_0_25px_rgba(6,182,212,0.6)]" data-cta="blog_hero_get_price">Get price list</a>
                            <a href="/catalog/" class="border border-brand-accent text-brand-accent hover:border-white hover:text-white hover:bg-white/5 px-6 py-3 rounded-lg font-bold transition" data-cta="blog_hero_catalog">Download catalog</a>
                        </div>
                    </div>
                    
                    <!-- Search & Quick Actions Card -->
                    <div class="bg-brand-dark border border-gray-700 rounded-2xl p-6 shadow-xl space-y-6">
                        <div>
                            <h3 class="text-white font-bold text-lg mb-2">Search the library</h3>
                            <p class="text-gray-400 text-sm mb-4">Find guides by model, brand, frequency, or issue.</p>
                            <div class="relative">
                                <input type="text" id="blogSearch" placeholder="Search by model, brand, or topic" class="w-full bg-brand-surface border border-gray-600 rounded-lg pl-4 pr-10 py-3 text-white focus:border-brand-accent outline-none transition">
                                <i class="fa-solid fa-search absolute right-3 top-3.5 text-gray-500"></i>
                            </div>
                            <div id="searchSuggestions" class="mt-3 space-y-2 hidden"></div>
                        </div>
                        
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                            <div class="bg-brand-surface border border-gray-700 rounded-xl p-4">
                                <p class="text-xs text-gray-500 uppercase tracking-wide mb-2">Fast quote</p>
                                <h4 class="text-white font-semibold mb-2">Pricing in 24 hours</h4>
                                <p class="text-xs text-gray-400 mb-4">MOQ, lead time, and compatibility pack.</p>
                                <a href="/contact/" class="text-brand-accent text-sm font-bold hover:text-white">Request quote</a>
                            </div>
                            <div class="bg-brand-surface border border-gray-700 rounded-xl p-4">
                                <p class="text-xs text-gray-500 uppercase tracking-wide mb-2">Distributor kit</p>
                                <h4 class="text-white font-semibold mb-2">Get the playbook</h4>
                                <p class="text-xs text-gray-400 mb-4">RF benchmarks and margin guidance.</p>
                                <a href="/contact/" class="text-brand-accent text-sm font-bold hover:text-white">Send me the kit</a>
                            </div>
                        </div>
                        
                        {% set categoryOptions = collections.posts | pluck("category") | unique %}
                        {% if categoryOptions.length %}
                        <div>
                            <p class="text-xs uppercase tracking-wider text-gray-500 mb-3">Quick topics</p>
                            <div class="flex flex-wrap gap-2">
                                {% for option in categoryOptions | slice(0, 8) %}
                                <button type="button" class="tag-pill px-3 py-1 rounded-full border border-gray-700 text-xs text-gray-300" data-quick-filter="category" data-value="{{ option | slugify }}">{{ option }}</button>
                                {% endfor %}
                            </div>
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </section>

        <!-- Filter Bar -->
        <section class="pb-8">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="bg-brand-dark/50 border border-gray-700 rounded-xl p-4">
                    <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
                        <div>
                            <h2 class="text-white font-bold text-lg">Latest guides</h2>
                            <p class="text-sm text-gray-400">Browse newest updates or refine by topic and brand.</p>
                        </div>
                        <div class="flex flex-wrap items-center gap-3">
                            <span id="resultsCount" class="text-sm text-gray-400">Showing 0 results</span>
                            <button type="button" class="px-3 py-2 rounded-lg border border-gray-700 text-gray-300 hover:border-brand-accent hover:text-white transition text-sm" data-clear-filters>Clear filters</button>
                        </div>
                    </div>
                </div>
                <div id="activeFilters" class="mt-4 flex flex-wrap gap-2"></div>
                <div id="no-results" class="hidden text-gray-400 mt-4">No articles found on this page. Try a different filter.</div>
            </div>
        </section>

        <!-- Blog Posts Grid -->
        <section>
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">
                    <!-- Main Content -->
                    <div class="lg:col-span-2 space-y-10">
                        {% if pagination.pageNumber == 0 %}
                        {% set featured = collections.posts | getFeatured %}
                        {% if featured %}
                        <article class="bg-brand-dark border border-gray-700 rounded-2xl overflow-hidden shadow-xl article-card group" data-post-card data-title="{{ featured.data.title | escape }}" data-summary="{{ featured.data.summary | escape }}" data-category="{{ featured.data.category | slugify }}" data-tags="{{ featured.data.tags | contentTags | joinSlugList }}" data-brand="{{ featured.data.brand | joinSlugList }}" data-frequency="{{ featured.data.frequency | joinSlugList }}" data-scene="{{ featured.data.scene | joinSlugList }}">
                            <div class="grid grid-cols-1 md:grid-cols-2">
                                <div class="relative">
                                    <img src="{{ featured.data.hero_image }}" alt="{{ featured.data.title }}" class="w-full h-full object-cover group-hover:scale-105 transition duration-500">
                                    <div class="absolute top-4 left-4 bg-brand-accent text-white text-xs font-bold px-3 py-1 rounded-full">Featured</div>
                                </div>
                                <div class="p-6 flex flex-col justify-between">
                                    <div>
                                        <div class="flex items-center gap-3 text-xs text-gray-400 mb-3">
                                            <span class="uppercase tracking-wider text-brand-accent font-bold">{{ featured.data.category }}</span>
                                            <span>{{ featured.date | readableDate }}</span>
                                            <span>{{ featured.data.read_time }}</span>
                                        </div>
                                        <h2 class="text-2xl font-bold text-white mb-3 group-hover:text-brand-accent transition">{{ featured.data.title }}</h2>
                                        <p class="text-gray-400 text-sm mb-4">{{ featured.data.summary }}</p>
                                    </div>
                                    <a href="{{ featured.url }}" class="text-brand-accent font-bold text-sm hover:text-white inline-flex items-center">Read Article <i class="fa-solid fa-arrow-right ml-2 text-xs"></i></a>
                                </div>
                            </div>
                        </article>
                        {% endif %}
                        {% endif %}

                        {% set visiblePosts = posts %}
                        {% if pagination.pageNumber == 0 %}
                        {% set visiblePosts = posts | excludeFeatured %}
                        {% endif %}
                        {% set gridPosts = visiblePosts | slice(0, 8) %}
                        {% set listPosts = visiblePosts | slice(8) %}

                        <!-- Grid Posts -->
                        <section class="space-y-6">
                            <div class="flex items-center justify-between">
                                <h3 class="text-white font-bold text-lg">Fresh from the lab</h3>
                                <span class="text-xs text-gray-500">Newest updates first</span>
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                {% for post in gridPosts %}
                                <article class="bg-brand-dark p-6 rounded-xl border border-gray-700 hover:border-brand-accent transition flex flex-col gap-4 group article-card" data-post-card data-title="{{ post.data.title | escape }}" data-summary="{{ post.data.summary | escape }}" data-category="{{ post.data.category | slugify }}" data-tags="{{ post.data.tags | contentTags | joinSlugList }}" data-brand="{{ post.data.brand | joinSlugList }}" data-frequency="{{ post.data.frequency | joinSlugList }}" data-scene="{{ post.data.scene | joinSlugList }}">
                                    <div class="h-48 rounded-lg overflow-hidden">
                                        <img loading="lazy" decoding="async" src="{{ post.data.hero_image }}" class="w-full h-full object-cover group-hover:scale-105 transition duration-500" alt="{{ post.data.title }}">
                                    </div>
                                    <div class="flex items-center gap-3 text-xs text-gray-400">
                                        <span class="uppercase tracking-wider text-brand-accent font-bold">{{ post.data.category }}</span>
                                        <span>{{ post.date | readableDate }}</span>
                                        <span>{{ post.data.read_time }}</span>
                                    </div>
                                    <h3 class="text-lg font-bold text-white group-hover:text-brand-accent transition">{{ post.data.title }}</h3>
                                    <p class="text-gray-400 text-sm line-clamp-2">{{ post.data.summary }}</p>
                                    <a href="{{ post.url }}" class="text-brand-accent font-bold text-sm hover:text-white inline-flex items-center">Read Article <i class="fa-solid fa-arrow-right ml-2 text-xs"></i></a>
                                </article>
                                {% endfor %}
                            </div>
                        </section>

                        <!-- List Posts -->
                        {% if listPosts.length %}
                        <section class="bg-brand-dark border border-gray-700 rounded-2xl overflow-hidden">
                            <div class="flex items-center justify-between px-6 py-4 border-b border-gray-800">
                                <h3 class="text-white font-bold text-lg">More from the field</h3>
                                <span class="text-xs text-gray-500">Short reads and updates</span>
                            </div>
                            <div class="divide-y divide-gray-800">
                                {% for post in listPosts %}
                                <div class="px-6 py-4 flex flex-col md:flex-row md:items-center md:justify-between gap-4" data-post-card data-title="{{ post.data.title | escape }}" data-summary="{{ post.data.summary | escape }}" data-category="{{ post.data.category | slugify }}" data-tags="{{ post.data.tags | contentTags | joinSlugList }}" data-brand="{{ post.data.brand | joinSlugList }}" data-frequency="{{ post.data.frequency | joinSlugList }}" data-scene="{{ post.data.scene | joinSlugList }}">
                                    <div>
                                        <p class="text-xs text-brand-accent uppercase tracking-wide font-bold">{{ post.data.category }}</p>
                                        <a href="{{ post.url }}" class="text-white font-semibold hover:text-brand-accent">{{ post.data.title }}</a>
                                        <p class="text-xs text-gray-500">{{ post.date | readableDate }} - {{ post.data.read_time }}</p>
                                    </div>
                                    <div class="flex items-center gap-4">
                                        <p class="text-xs text-gray-400 max-w-md hidden md:block line-clamp-2">{{ post.data.summary }}</p>
                                        <a href="{{ post.url }}" class="text-brand-accent text-sm font-bold hover:text-white">View</a>
                                    </div>
                                </div>
                                {% endfor %}
                            </div>
                        </section>
                        {% endif %}

                        <!-- Pagination -->
                        {% if pagination.pages.length > 1 %}
                        <div class="mt-8 flex justify-center gap-2" aria-label="Blog pagination">
                            {% if pagination.previousPageHref %}
                            <a href="{{ pagination.previousPageHref }}" class="w-10 h-10 rounded-lg bg-brand-dark border border-gray-700 text-gray-400 hover:border-brand-accent hover:text-white transition flex items-center justify-center" aria-label="Previous page">
                                <i class="fa-solid fa-chevron-left"></i>
                            </a>
                            {% endif %}
                            {% for href in pagination.hrefs %}
                            <a href="{{ href }}" class="w-10 h-10 rounded-lg {% if pagination.pageNumber == loop.index0 %}bg-brand-accent text-white font-bold{% else %}bg-brand-dark border border-gray-700 text-gray-400 hover:border-brand-accent hover:text-white{% endif %} transition flex items-center justify-center">{{ loop.index }}</a>
                            {% endfor %}
                            {% if pagination.nextPageHref %}
                            <a href="{{ pagination.nextPageHref }}" class="w-10 h-10 rounded-lg bg-brand-dark border border-gray-700 text-gray-400 hover:border-brand-accent hover:text-white transition flex items-center justify-center" aria-label="Next page">
                                <i class="fa-solid fa-chevron-right"></i>
                            </a>
                            {% endif %}
                        </div>
                        {% endif %}
                    </div>

                    <!-- Sidebar -->
                    <aside class="space-y-8">
                        <!-- Filters Widget -->
                        <div class="bg-brand-dark p-6 rounded-xl border border-gray-700 shadow-lg">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="font-bold text-white">Filters</h3>
                                <button type="button" class="text-xs text-gray-400 hover:text-white" data-clear-filters>Reset</button>
                            </div>
                            <p class="text-xs text-gray-500 mb-4">Stack filters to narrow down results.</p>
                            <div class="space-y-6 text-sm text-gray-300">
                                {% if categoryOptions.length %}
                                <div>
                                    <p class="text-white font-semibold mb-2">Topics</p>
                                    <div class="grid grid-cols-2 gap-2">
                                        {% for option in categoryOptions %}
                                        <label class="flex items-center gap-2 cursor-pointer hover:text-brand-accent transition">
                                            <input type="checkbox" class="accent-brand-accent" data-filter="category" data-label="{{ option }}" value="{{ option | slugify }}">
                                            <span>{{ option }}</span>
                                        </label>
                                        {% endfor %}
                                    </div>
                                </div>
                                {% endif %}

                                {% set tagOptions = collections.posts | pluck("tags") | contentTags | unique %}
                                {% if tagOptions.length %}
                                <div>
                                    <p class="text-white font-semibold mb-2">Tags</p>
                                    <div class="flex flex-wrap gap-2">
                                        {% for option in tagOptions %}
                                        <label class="flex items-center gap-2 bg-brand-surface border border-gray-700 rounded-full px-3 py-1 cursor-pointer hover:border-brand-accent transition">
                                            <input type="checkbox" class="accent-brand-accent" data-filter="tags" data-label="{{ option }}" value="{{ option | slugify }}">
                                            <span>{{ option }}</span>
                                        </label>
                                        {% endfor %}
                                    </div>
                                </div>
                                {% endif %}

                                {% set brandOptions = collections.posts | pluck("brand") | unique %}
                                {% if brandOptions.length %}
                                <div>
                                    <p class="text-white font-semibold mb-2">Brand</p>
                                    <div class="flex flex-wrap gap-2">
                                        {% for option in brandOptions %}
                                        <label class="flex items-center gap-2 bg-brand-surface border border-gray-700 rounded-full px-3 py-1 cursor-pointer hover:border-brand-accent transition">
                                            <input type="checkbox" class="accent-brand-accent" data-filter="brand" data-label="{{ option }}" value="{{ option | slugify }}">
                                            <span>{{ option }}</span>
                                        </label>
                                        {% endfor %}
                                    </div>
                                </div>
                                {% endif %}

                                {% set frequencyOptions = collections.posts | pluck("frequency") | unique %}
                                {% if frequencyOptions.length %}
                                <div>
                                    <p class="text-white font-semibold mb-2">Frequency</p>
                                    <div class="flex flex-wrap gap-2">
                                        {% for option in frequencyOptions %}
                                        <label class="flex items-center gap-2 bg-brand-surface border border-gray-700 rounded-full px-3 py-1 cursor-pointer hover:border-brand-accent transition">
                                            <input type="checkbox" class="accent-brand-accent" data-filter="frequency" data-label="{{ option }}" value="{{ option | slugify }}">
                                            <span>{{ option }}</span>
                                        </label>
                                        {% endfor %}
                                    </div>
                                </div>
                                {% endif %}

                                {% set sceneOptions = collections.posts | pluck("scene") | unique %}
                                {% if sceneOptions.length %}
                                <div>
                                    <p class="text-white font-semibold mb-2">Scene</p>
                                    <div class="flex flex-wrap gap-2">
                                        {% for option in sceneOptions %}
                                        <label class="flex items-center gap-2 bg-brand-surface border border-gray-700 rounded-full px-3 py-1 cursor-pointer hover:border-brand-accent transition">
                                            <input type="checkbox" class="accent-brand-accent" data-filter="scene" data-label="{{ option }}" value="{{ option | slugify }}">
                                            <span>{{ option }}</span>
                                        </label>
                                        {% endfor %}
                                    </div>
                                </div>
                                {% endif %}
                            </div>
                        </div>

                        <!-- Distributor CTA -->
                        <div class="bg-gradient-to-br from-brand-accent to-blue-600 p-8 rounded-xl text-center text-white shadow-xl relative overflow-hidden">
                            <div class="absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-2xl -mr-10 -mt-10"></div>
                            <h3 class="font-bold text-xl mb-2 relative z-10" data-i18n="blog.become_distributor_title">Become a Distributor</h3>
                            <p class="text-sm opacity-90 mb-6 relative z-10" data-i18n="blog.become_distributor_description">Get access to wholesale pricing and marketing materials.</p>
                            <a href="/contact/" class="bg-white text-brand-accent px-6 py-3 rounded-full font-bold text-sm shadow-lg hover:bg-gray-100 transition relative z-10 w-full" data-i18n="blog.apply_now">Apply Now</a>
                        </div>

                        <!-- Latest Posts Widget -->
                        {% set latestPosts = collections.posts | slice(0, 3) %}
                        {% if latestPosts.length %}
                        <div class="bg-brand-dark p-6 rounded-xl border border-gray-700 shadow-lg">
                            <h3 class="font-bold text-white mb-4">Newest guides</h3>
                            <div class="space-y-4">
                                {% for post in latestPosts %}
                                <a href="{{ post.url }}" class="flex gap-3 group">
                                    <div class="w-16 h-16 bg-gray-800 rounded-lg flex-shrink-0 overflow-hidden">
                                        <img loading="lazy" decoding="async" src="{{ post.data.hero_image }}" class="w-full h-full object-cover" alt="{{ post.data.title }}">
                                    </div>
                                    <div>
                                        <p class="text-xs text-brand-accent uppercase tracking-wide font-bold">{{ post.data.category }}</p>
                                        <p class="text-sm font-bold text-white group-hover:text-brand-accent transition">{{ post.data.title }}</p>
                                        <p class="text-xs text-gray-500 mt-1">{{ post.date | readableDate }}</p>
                                    </div>
                                </a>
                                {% endfor %}
                            </div>
                        </div>
                        {% endif %}
                    </aside>
                </div>
            </div>
        </section>
    </main>

    <!-- Newsletter Section -->
    <section class="py-16 bg-brand-dark border-t border-gray-800">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h2 class="text-3xl font-bold text-white mb-4">Stay Updated with Latest Tips</h2>
            <p class="text-gray-400 mb-8">Get weekly technical guides and market insights delivered to your inbox.</p>
            <form id="newsletterForm" class="flex flex-col sm:flex-row gap-4 max-w-md mx-auto">
                <input id="newsletterEmail" name="email" type="email" placeholder="Enter your email" required class="flex-1 bg-brand-surface border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-brand-accent outline-none transition">
                <button type="submit" class="bg-brand-accent hover:bg-brand-hover text-white px-6 py-3 rounded-lg font-bold transition">Subscribe</button>
            </form>
            <p id="newsletter-status" class="text-sm text-gray-400 mt-3 hidden" aria-live="polite"></p>
        </div>
    </section>

    <!-- Pre-Footer CTA -->
    <section class="py-16 bg-brand-accent relative overflow-hidden">
        <div class="absolute inset-0 bg-black/10"></div>
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10 flex flex-col md:flex-row items-center justify-between gap-8 text-center md:text-left">
            <div>
                <h2 class="text-3xl font-bold text-white mb-2" data-i18n="pre_footer.title">Need Technical Support?</h2>
                <p class="text-white/90 text-lg" data-i18n="pre_footer.subtitle">Our engineering team is here to help with your installation challenges.</p>
            </div>
            <a href="/contact/" class="bg-amber-400 text-brand-dark px-8 py-3 rounded-full font-bold hover:bg-amber-300 transition shadow-lg shadow-amber-200/50">
                <span data-i18n="pre_footer.order_samples">Get Support</span>
            </a>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-brand-dark pt-20 pb-10 border-t border-gray-800 text-gray-400 text-base">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="bg-brand-surface border border-gray-700 rounded-xl p-6 mb-12">
                <p class="text-sm text-gray-400 text-center" data-i18n="footer.legal_disclaimer">
                    Disclaimer: All product names, logos, and brands are property of their respective owners. All company, product and service names used in this website are for identification purposes only. Use of these names, logos, and brands does not imply endorsement.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-4 gap-12 mb-12">
                <div>
                    <div class="flex items-center gap-3 mb-4 text-white">
                        <img src="/logo/logo.png" width="1024" height="1024" alt="GateRemoteSource logo" class="h-10 w-auto object-contain">
                    </div>
                    <p class="mb-4" data-i18n="footer.company_description">Your Profit Partner in Access Control. Supplying locksmiths worldwide.</p>
                </div>
                <div>
                    <h4 class="text-white font-bold mb-4" data-i18n="footer.products">Products</h4>
                    <ul class="space-y-2">
                        <li><a href="/catalog/" class="hover:text-brand-accent" data-i18n="footer.remotes">Remotes</a></li>
                        <li><a href="/catalog/" class="hover:text-brand-accent" data-i18n="footer.receivers">Receivers</a></li>
                        <li><a href="/catalog/" class="hover:text-brand-accent" data-i18n="footer.smart_home">Smart Home</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-white font-bold mb-4" data-i18n="footer.contact">Contact</h4>
                    <ul class="space-y-2">
                        <li><a href="mailto:sales@gateremotesource.com" class="hover:text-brand-accent" data-i18n="footer.email_sales">sales@gateremotesource.com</a></li>
                        <li><a href="https://wa.me/8615899648898" class="hover:text-brand-accent" data-i18n="footer.whatsapp">+86 158 9964 8898</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-white font-bold mb-4" data-i18n="footer.address">Address</h4>
                    <p class="flex items-start gap-2"><i class="fa-solid fa-location-dot mt-1 text-brand-accent"></i><span data-i18n="footer.address_text">Huawei Kegu Industrial Park, Dalingshan Town, Dongguan, Guangdong, China</span></p>
                </div>
            </div>
            <div class="text-center pt-8 border-t border-gray-800">
                <span data-i18n="footer.copyright">&copy; 2026 GateRemoteSource. All rights reserved.</span>
            </div>
        </div>
    </footer>

    <!-- WhatsApp Button -->
    <a href="https://wa.me/8615899648898" target="_blank" class="fixed bottom-6 right-6 z-50 bg-[#25D366] hover:bg-green-600 text-white rounded-full p-4 shadow-lg flex items-center justify-center transition transform hover:scale-110 animate-bounce-slow">
        <i class="fa-brands fa-whatsapp text-4xl"></i>
    </a>

    <script>
        const supportedLangs = ['en', 'es', 'de', 'it', 'fr', 'pt'];
        const defaultLang = 'en';
        let currentLanguage = defaultLang;
        let translations = {};

        async function loadTranslations(lang) {
            try {
                const response = await fetch(`/locales/${lang}.json`);
                translations = await response.json();
                applyTranslations();
            } catch (error) {
                console.error('Error loading translations:', error);
            }
        }

        function getNestedValue(obj, path) {
            return path.split('.').reduce((current, key) => {
                return current && current[key] !== undefined ? current[key] : null;
            }, obj);
        }

        function applyTranslations() {
            const metaOverride = document.body && document.body.dataset && document.body.dataset.metaOverride === 'true';
            const metaPage = document.body && document.body.dataset ? document.body.dataset.metaPage : '';
            const pageMeta = translations.meta && metaPage && translations.meta[metaPage] ? translations.meta[metaPage] : translations.meta;
            if (metaOverride && pageMeta) {
                if (pageMeta.title) document.getElementById('meta-title').textContent = pageMeta.title;
                if (pageMeta.description) document.getElementById('meta-description').content = pageMeta.description;
                if (pageMeta.keywords) document.getElementById('meta-keywords').content = pageMeta.keywords;
            }

            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                const value = getNestedValue(translations, key);
                if (value !== null && value !== undefined) {
                    if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                        element.placeholder = value;
                    } else {
                        element.textContent = value;
                    }
                }
            });

            const copyrightElement = document.querySelector('[data-i18n="footer.copyright"]');
            if (copyrightElement && translations.footer && translations.footer.copyright) {
                copyrightElement.textContent = translations.footer.copyright.replace('{year}', new Date().getFullYear());
            }
        }

        function stripLangPrefix(pathname) {
            const parts = pathname.split('/');
            if (parts.length > 1 && supportedLangs.includes(parts[1])) {
                const remainder = '/' + parts.slice(2).join('/');
                return remainder === '/' ? '/' : remainder;
            }
            return pathname;
        }

        function getLangFromPath(pathname) {
            const parts = pathname.split('/');
            return parts.length > 1 && supportedLangs.includes(parts[1]) ? parts[1] : null;
        }

        function isBlogPostPath(path) {
            const normalized = pathname.endsWith('/') ? pathname : `${pathname}/`;
            if (normalized === '/blog/' || normalized === '/blog/page/') return false;
            return normalized.startsWith('/blog/') && !normalized.startsWith('/blog/page/');
        }

        function buildLangPath(lang, pathname = window.location.pathname) {
            const cleanPath = stripLangPrefix(pathname);
            if (lang === defaultLang) return cleanPath;
            if (isBlogPostPath(cleanPath)) return `/${lang}/blog/`;
            return cleanPath === '/' ? `/${lang}/` : `/${lang}${cleanPath}`;
        }

        function setLanguageUI(lang) {
            const flags = {
                'en': 'EN',
                'es': 'ES',
                'de': 'DE',
                'it': 'IT',
                'fr': 'FR',
                'pt': 'PT'
            };

            const langNames = {
                'en': 'English',
                'es': 'Espanol',
                'de': 'Deutsch',
                'it': 'Italiano',
                'fr': 'Francais',
                'pt': 'Portugues'
            };

            const flagElement = document.getElementById('currentFlag');
            const langElement = document.getElementById('currentLang');
            if (flagElement) flagElement.textContent = flags[lang] || flags[defaultLang];
            if (langElement) langElement.textContent = langNames[lang] || langNames[defaultLang];
            document.documentElement.setAttribute('lang', lang);
        }

        function changeLanguage(lang) {
            if (!supportedLangs.includes(lang)) lang = defaultLang;
            const targetPath = buildLangPath(lang, window.location.pathname);
            if (targetPath !== window.location.pathname) {
                const url = new URL(window.location.href);
                url.pathname = targetPath;
                url.searchParams.delete('lang');
                window.location.href = url.toString();
                return;
            }
            currentLanguage = lang;
            setLanguageUI(lang);
            loadTranslations(lang);

            const dropdown = document.getElementById('languageDropdown');
            if (dropdown) dropdown.classList.add('hidden');
        }

        document.getElementById('languageDropdownBtn').addEventListener('click', function() {
            document.getElementById('languageDropdown').classList.toggle('hidden');
        });

        document.addEventListener('click', function(event) {
            const dropdown = document.getElementById('languageDropdown');
            const button = document.getElementById('languageDropdownBtn');
            if (!button.contains(event.target) && !dropdown.contains(event.target)) {
                dropdown.classList.add('hidden');
            }
        });

        const mobileBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        mobileBtn.addEventListener('click', () => { mobileMenu.classList.toggle('hidden'); });

        const newsletterForm = document.getElementById('newsletterForm');
        if (newsletterForm) {
            const statusEl = document.getElementById('newsletter-status');
            const emailInput = document.getElementById('newsletterEmail');

            newsletterForm.addEventListener('submit', async (event) => {
                event.preventDefault();

                const emailValue = emailInput ? emailInput.value.trim() : '';
                if (!emailValue) {
                    if (statusEl) {
                        statusEl.classList.remove('hidden');
                        statusEl.textContent = 'Please enter a valid email.';
                    }
                    return;
                }

                if (statusEl) {
                    statusEl.classList.remove('hidden');
                    statusEl.textContent = 'Sending...';
                }

                try {
                    const formData = new FormData();
                    formData.append('email', emailValue);
                    formData.append('source', 'blog_newsletter');
                    const response = await fetch('https://formspree.io/f/xqakpznl', {
                        method: 'POST',
                        headers: { 'Accept': 'application/json' },
                        body: formData
                    });

                    if (response.ok) {
                        if (statusEl) statusEl.textContent = 'Thanks! You are subscribed.';
                        newsletterForm.reset();
                    } else {
                        if (statusEl) statusEl.textContent = 'Send failed. Please email sales@gateremotesource.com.';
                    }
                } catch (error) {
                    if (statusEl) statusEl.textContent = 'Network issue. Please email sales@gateremotesource.com.';
                }
            });
        }

        const searchInput = document.getElementById('blogSearch');
        const suggestionBox = document.getElementById('searchSuggestions');
        const cards = Array.from(document.querySelectorAll('[data-post-card]'));
        const filterInputs = Array.from(document.querySelectorAll('[data-filter]'));
        const emptyState = document.getElementById('no-results');
        const resultsCount = document.getElementById('resultsCount');
        const activeFilters = document.getElementById('activeFilters');
        const clearFilterButtons = Array.from(document.querySelectorAll('[data-clear-filters]'));
        const quickFilters = Array.from(document.querySelectorAll('[data-quick-filter]'));

        let searchIndex = [];

        function escapeHtml(value) {
            return String(value)
                .replace(/&/g, '&')
                .replace(/</g, '<')
                .replace(/>/g, '>')
                .replace(/"/g, '"')
                .replace(/'/g, ''');
        }

        function normalizeValue(value) {
            return (value || '').toString().toLowerCase();
        }

        function getSelectedFilters() {
            const selected = {};
            filterInputs.forEach((input) => {
                if (!input.checked) return;
                if (!selected[input.dataset.filter]) {
                    selected[input.dataset.filter] = new Set();
                }
                selected[input.dataset.filter].add(input.value);
            });
            return selected;
        }

        function getActiveFilters() {
            return filterInputs
                .filter((input) => input.checked)
                .map((input) => ({
                    group: input.dataset.filter,
                    value: input.value,
                    label: input.dataset.label || input.value
                }));
        }

        function matchesFilters(card, selected) {
            const filters = Object.keys(selected);
            if (!filters.length) return true;
            return filters.every((group) => {
                const datasetValue = card.getAttribute(`data-${group}`) || '';
                if (!datasetValue) return false;
                const set = new Set(datasetValue.split('|').filter(Boolean));
                return Array.from(selected[group]).every((value) => set.has(value));
            });
        }

        function matchesSearch(card, query) {
            if (!query) return true;
            const haystack = [
                card.getAttribute('data-title'),
                card.getAttribute('data-summary'),
                card.getAttribute('data-category'),
                card.getAttribute('data-tags'),
                card.getAttribute('data-brand'),
                card.getAttribute('data-frequency'),
                card.getAttribute('data-scene')
            ].join(' ').toLowerCase();
            return haystack.includes(query);
        }

        function updateResultsCount(visibleCount) {
            if (!resultsCount) return;
            const totalCount = cards.length;
            const label = visibleCount === totalCount
                ? `${visibleCount} guides on this page`
                : `${visibleCount} of ${totalCount} guides on this page`;
            resultsCount.textContent = label;
        }

        function renderActiveFilters(query) {
            if (!activeFilters) return;
            const items = getActiveFilters().map((item) => ({
                ...item,
                type: 'filter'
            }));
            if (query) {
                items.unshift({
                    type: 'search',
                    label: `Search: ${query}`
                });
            }

            if (!items.length) {
                activeFilters.innerHTML = '<span class="text-sm text-gray-500">No active filters.</span>';
                return;
            }

            activeFilters.innerHTML = items.map((item) => {
                const label = escapeHtml(item.label);
                if (item.type === 'search') {
                    return `
                        <button type="button" class="flex items-center gap-2 px-3 py-1 rounded-full bg-brand-dark border border-gray-700 text-xs text-gray-300 hover:border-brand-accent transition" data-remove-filter data-type="search">
                            <span>${label}</span>
                            <i class="fa-solid fa-xmark text-[10px]"></i>
                        </button>
                    `;
                }
                return `
                    <button type="button" class="flex items-center gap-2 px-3 py-1 rounded-full bg-brand-dark border border-gray-700 text-xs text-gray-300 hover:border-brand-accent transition" data-remove-filter data-type="filter" data-group="${escapeHtml(item.group)}" data-value="${escapeHtml(item.value)}">
                        <span>${label}</span>
                        <i class="fa-solid fa-xmark text-[10px]"></i>
                    </button>
                `;
            }).join('');
        }

        function syncQuickFilters() {
            if (!quickFilters.length) return;
            quickFilters.forEach((chip) => {
                const group = chip.dataset.quickFilter;
                const value = chip.dataset.value;
                const input = filterInputs.find((item) => item.dataset.filter === group && item.value === value);
                const isActive = input && input.checked;
                chip.setAttribute('aria-pressed', isActive ? 'true' : 'false');
                chip.classList.toggle('border-brand-accent', isActive);
                chip.classList.toggle('bg-brand-accent/20', isActive);
                chip.classList.toggle('text-white', isActive);
                chip.classList.toggle('text-gray-300', !isActive);
            });
        }

        function applyFilters() {
            const rawQuery = searchInput ? searchInput.value.trim() : '';
            const query = normalizeValue(rawQuery);
            const selected = getSelectedFilters();
            let visibleCount = 0;
            cards.forEach((card) => {
                const visible = matchesFilters(card, selected) && matchesSearch(card, query);
                card.classList.toggle('hidden', !visible);
                if (visible) visibleCount += 1;
            });
            if (emptyState) {
                emptyState.classList.toggle('hidden', visibleCount > 0);
            }
            updateResultsCount(visibleCount);
            renderActiveFilters(rawQuery);
            syncQuickFilters();
        }

        function renderSuggestions(results) {
            if (!suggestionBox) return;
            if (!results.length) {
                suggestionBox.classList.add('hidden');
                suggestionBox.innerHTML = '';
                return;
            }
            suggestionBox.classList.remove('hidden');
            suggestionBox.innerHTML = results.map((item) => `
                <a href="${item.url}" class="block px-3 py-2 rounded-lg bg-brand-surface border border-gray-700 hover:border-brand-accent transition">
                    <p class="text-sm text-white font-semibold">${escapeHtml(item.title)}</p>
                    <p class="text-xs text-gray-400">${escapeHtml(item.summary)}</p>
                </a>
            `).join('');
        }

        function handleSearchInput() {
            const query = normalizeValue(searchInput ? searchInput.value : '');
            applyFilters();
            if (!searchIndex.length || !query) {
                renderSuggestions([]);
                return;
            }
            const results = searchIndex
                .filter((item) => item.search.includes(query))
                .slice(0, 6);
            renderSuggestions(results);
        }

        function clearAllFilters() {
            if (searchInput) searchInput.value = '';
            filterInputs.forEach((input) => {
                input.checked = false;
            });
            renderSuggestions([]);
            applyFilters();
        }

        if (searchInput) {
            searchInput.addEventListener('input', handleSearchInput);
        }

        filterInputs.forEach((input) => {
            input.addEventListener('change', applyFilters);
        });

        clearFilterButtons.forEach((button) => {
            button.addEventListener('click', clearAllFilters);
        });

        quickFilters.forEach((chip) => {
            chip.addEventListener('click', () => {
                const group = chip.dataset.quickFilter;
                const value = chip.dataset.value;
                const input = filterInputs.find((item) => item.dataset.filter === group && item.value === value);
                if (!input) return;
                input.checked = !input.checked;
                applyFilters();
            });
        });

        if (activeFilters) {
            activeFilters.addEventListener('click', (event) => {
                const button = event.target.closest('button[data-remove-filter]');
                if (!button) return;
                const type = button.dataset.type;
                if (type === 'search') {
                    if (searchInput) searchInput.value = '';
                    renderSuggestions([]);
                } else {
                    const group = button.dataset.group;
                    const value = button.dataset.value;
                    const input = filterInputs.find((item) => item.dataset.filter === group && item.value === value);
                    if (input) input.checked = false;
                }
                applyFilters();
            });
        }

        document.addEventListener('click', (event) => {
            if (!suggestionBox || !searchInput) return;
            if (!searchInput.contains(event.target) && !suggestionBox.contains(event.target)) {
                suggestionBox.classList.add('hidden');
            }
        });

        applyFilters();
        fetch('./search.json')
            .then((response) => response.json())
            .then((data) => {
                searchIndex = data.map((item) => ({
                    ...item,
                    search: normalizeValue([item.title, item.summary, item.category, ...(item.tags || []), ...(item.brand || []), ...(item.frequency || []), ...(item.scene || [])].join(' '))
                }));
            })
            .catch(() => {
                searchIndex = cards.map((card) => ({
                    title: card.getAttribute('data-title'),
                    summary: card.getAttribute('data-summary'),
                    url: card.querySelector('a') ? card.querySelector('a').getAttribute('href') : '#',
                    search: normalizeValue([
                        card.getAttribute('data-title'),
                        card.getAttribute('data-summary'),
                        card.getAttribute('data-category'),
                        card.getAttribute('data-tags'),
                        card.getAttribute('data-brand'),
                        card.getAttribute('data-frequency'),
                        card.getAttribute('data-scene')
                    ].join(' '))
                }));
            });

        const url = new URL(window.location.href);
        const paramLang = url.searchParams.get('lang');
        let redirecting = false;
        if (supportedLangs.includes(paramLang)) {
            const targetPath = buildLangPath(paramLang, url.pathname);
            url.searchParams.delete('lang');
            if (targetPath !== url.pathname) {
                url.pathname = targetPath;
                window.location.replace(url.toString());
                redirecting = true;
            } else if (history.replaceState) {
                history.replaceState(null, '', url.toString());
            }
        }

        if (!redirecting) {
            const initialLang = getLangFromPath(window.location.pathname) || defaultLang;
            currentLanguage = initialLang;
            setLanguageUI(initialLang);
            loadTranslations(initialLang);
        }
    </script>

    <style>
        @keyframes bounce-slow { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        .animate-bounce-slow { animation: bounce-slow 3s infinite; }
    </style>
</body>
</html>
