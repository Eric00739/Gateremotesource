<!DOCTYPE html>
<html lang="{{ lang or site.lang }}" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title id="meta-title">Installer Hub Blog | Programming Guides & Troubleshooting</title>
    <meta id="meta-description" name="description" content="Technical guides on remote cloning, receiver setup, RF troubleshooting, and access control tips for gate and garage installers.">
    <meta id="meta-keywords" name="keywords" content="Garage Remote Programming, Locksmith Resources, Gate Installation Guides, Technical Tutorials, Access Control Blog">
    <meta name="author" content="GateRemoteSource">
    <link rel="canonical" href="{{ site.url }}{{ page.url | canonicalPath }}">
    <link rel="alternate" href="{{ site.url }}{{ page.url | langUrl(i18n.defaultLang) | canonicalPath }}" hreflang="x-default">
    {% for code in i18n.languages %}
    <link rel="alternate" href="{{ site.url }}{{ page.url | langUrl(code) | canonicalPath }}" hreflang="{{ code }}">
    {% endfor %}
    <!-- HTTP to HTTPS and non-www to www redirect -->
    <script>
        (function() {
            var preferredHost = "www.gateremotesource.com";
            var currentProtocol = location.protocol;
            var currentHost = location.hostname;
            
            // Force HTTPS redirect
            if (currentProtocol !== "https:") {
                var target = "https://" + currentHost + location.pathname + location.search + location.hash;
                if (target !== location.href) {
                    location.replace(target);
                }
                return;
            }
            
            // Force www redirect
            if (currentHost !== preferredHost) {
                var target = "https://" + preferredHost + location.pathname + location.search + location.hash;
                if (target !== location.href) {
                    location.replace(target);
                }
            }
        })();
    </script>
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="{{ site.name }}">
    <meta property="og:locale" content="en_US">
    <meta property="og:title" content="Installer Hub Blog | Programming Guides & Troubleshooting">
    <meta property="og:description" content="Technical guides on remote cloning, receiver setup, RF troubleshooting, and access control tips for gate and garage installers.">
    <meta property="og:url" content="{{ site.url }}{{ page.url | canonicalPath }}">
    <meta property="og:image" content="{{ site.url }}/logo/logo.png">
    <meta property="og:image:alt" content="{{ site.name }} logo">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Installer Hub Blog | Programming Guides & Troubleshooting">
    <meta name="twitter:description" content="Technical guides on remote cloning, receiver setup, RF troubleshooting, and access control tips for gate and garage installers.">
    <meta name="twitter:image" content="{{ site.url }}/logo/logo.png">

    <link rel="icon" type="image/x-icon" href="/logo/favicon.ico?v=1">
    <link rel="icon" type="image/png" sizes="32x32" href="/logo/favicon-32.png?v=1">
    <link rel="icon" type="image/png" sizes="16x16" href="/logo/favicon-16.png?v=1">
    <link rel="apple-touch-icon" sizes="180x180" href="/logo/apple-touch-icon.png?v=1">
    <link rel="manifest" href="/site.webmanifest?v=1">

    <link rel="preconnect" href="https://www.googletagmanager.com">

    <link rel="preload" href="/assets/css/tailwind.css" as="style">
    <link rel="stylesheet" href="/assets/css/tailwind.css">
    <noscript><link rel="stylesheet" href="/assets/css/tailwind.css"></noscript>

    <link rel="preload" href="/assets/vendor/fontawesome/css/all.min.css" as="style">
    <link rel="stylesheet" href="/assets/vendor/fontawesome/css/all.min.css">
    <noscript><link rel="stylesheet" href="/assets/vendor/fontawesome/css/all.min.css"></noscript>

    <link rel="preload" href="/assets/css/fonts.css" as="style">
    <link rel="stylesheet" href="/assets/css/fonts.css">
    <noscript><link rel="stylesheet" href="/assets/css/fonts.css"></noscript>

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZF8T77R309"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-ZF8T77R309');
    </script>

    <style>
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: rgba(0, 113, 227, 0.3); border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: rgba(0, 113, 227, 0.5); }

        .nav-glass {
            background: rgba(255, 255, 255, 0.72);
            border-bottom: 1px solid rgba(0, 0, 0, 0.06);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
        }

        .nav-link.active { color: #0A84FF !important; font-weight: 700; border-bottom: 2px solid #0A84FF; }
        
        .lang-select {
            background-color: rgba(255, 255, 255, 0.1);
            color: #F5F5F7;
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 0.25rem 0.5rem;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            cursor: pointer;
            outline: none;
        }
        .lang-select option { background-color: #F3F4F6; color: #111827; }

        .topic-filter-btn {
            border: 1px solid transparent;
            color: #1D1D1F;
            background: transparent;
            transition: all 0.2s ease;
        }

        .topic-filter-btn:hover {
            border-color: #D1D1D6;
            background: rgba(255, 255, 255, 0.9);
            color: #1D1D1F;
        }

        .topic-filter-btn.active {
            background: #0071E3;
            border-color: #0071E3;
            color: #ffffff;
        }

        /* Hard safety rails for blog logo and card media rendering */
        .site-logo-frame {
            width: 28px;
            height: 28px;
            min-width: 28px;
            min-height: 28px;
        }

        .site-logo-icon {
            width: 100%;
            height: 100%;
            max-width: 28px;
            max-height: 28px;
            object-fit: contain;
            display: block;
        }

        .site-footer-logo-icon {
            width: 40px;
            height: 40px;
            max-width: 40px;
            max-height: 40px;
            object-fit: contain;
            display: block;
        }

        .blog-card-media {
            position: relative;
            overflow: hidden;
            min-height: 220px;
        }

        .blog-card-media--sm {
            min-height: 176px;
        }

        .blog-card-media--grid {
            min-height: 192px;
        }

        .blog-card-media > img {
            width: 100% !important;
            height: 100% !important;
            object-fit: cover !important;
            display: block;
        }
    </style>
</head>
<body class="font-sans text-brand-dark/80 bg-brand-light backdrop-blur selection:bg-brand-accent selection:text-white flex flex-col min-h-screen" data-meta-override="true" data-meta-page="blog">
    <nav class="fixed w-full z-50 nav-glass transition-all duration-300">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                        <div class="flex-shrink-0 flex items-center gap-3 cursor-pointer">
                            <a href="/" class="flex items-center gap-3">
                                <div class="site-logo-frame bg-brand-surface border border-brand-border/50 p-1 rounded-lg h-7 w-7 flex items-center justify-center shadow-sm hover:shadow-md transition-shadow duration-200">
                                    <img src="/logo/logo.png" width="28" height="28" alt="GateRemoteSource Logo" class="site-logo-icon h-full w-full object-contain">
                                </div>
                                <span class="font-bold text-lg text-brand-dark tracking-tight">GateRemote<span class="text-brand-accent">Source</span></span>
                            </a>
                        </div>

                <div class="hidden lg:flex space-x-8 items-center">
                    <a href="/" class="nav-link text-brand-dark hover:text-brand-accent transition font-semibold py-2" id="nav-home" data-i18n="navigation.home">Home</a>
                    <a href="/catalog/" class="nav-link text-brand-dark hover:text-brand-accent transition font-semibold py-2" id="nav-products" data-i18n="navigation.catalog">Catalog</a>
                    <a href="/oem/" class="nav-link text-brand-dark hover:text-brand-accent transition font-semibold py-2" id="nav-oem" data-i18n="navigation.oem">OEM/ODM</a>
                    <a href="/about/" class="nav-link text-brand-dark hover:text-brand-accent transition font-semibold py-2" id="nav-about" data-i18n="navigation.about">About</a>
                    <a href="/blog/" class="nav-link text-brand-dark hover:text-brand-accent transition font-semibold py-2 active" id="nav-blog" data-i18n="navigation.blog" aria-current="page">Blog</a>
                    <a href="/contact/" class="nav-link text-brand-dark hover:text-brand-accent transition font-semibold py-2" id="nav-contact" data-i18n="navigation.contact">Contact</a>
                    
                    <div class="flex items-center ml-2 border-l border-brand-border pl-4">
                        <div class="relative">
                            <button id="languageDropdownBtn" class="flex items-center gap-2 text-brand-dark hover:text-brand-accent transition" type="button" aria-haspopup="true" aria-expanded="false" aria-label="Select language">
                                <span id="currentFlag" class="text-xs font-semibold tracking-wide">EN</span>
                                <span id="currentLang" class="text-sm">English</span>
                                <i class="fa-solid fa-chevron-down text-xs" aria-hidden="true"></i>
                            </button>
                            <div id="languageDropdown" class="absolute right-0 mt-2 w-48 bg-brand-surface border border-brand-border rounded-lg shadow-lg hidden z-50 backdrop-blur" role="menu" aria-labelledby="languageDropdownBtn">
                                <a href="#" onclick="changeLanguage('en')" class="flex items-center gap-3 px-4 py-3 text-brand-dark hover:bg-brand-light transition" role="menuitem">
                                    <span class="text-xs font-semibold">EN</span>
                                    <span class="text-brand-dark">English</span>
                                </a>
                                <a href="#" onclick="changeLanguage('es')" class="flex items-center gap-3 px-4 py-3 text-brand-dark hover:bg-brand-light transition" role="menuitem">
                                    <span class="text-xs font-semibold">ES</span>
                                    <span class="text-brand-dark">Español</span>
                                </a>
                                <a href="#" onclick="changeLanguage('de')" class="flex items-center gap-3 px-4 py-3 text-brand-dark hover:bg-brand-light transition" role="menuitem">
                                    <span class="text-xs font-semibold">DE</span>
                                    <span class="text-brand-dark">Deutsch</span>
                                </a>
                                <a href="#" onclick="changeLanguage('it')" class="flex items-center gap-3 px-4 py-3 text-brand-dark hover:bg-brand-light transition" role="menuitem">
                                    <span class="text-xs font-semibold">IT</span>
                                    <span class="text-brand-dark">Italiano</span>
                                </a>
                                <a href="#" onclick="changeLanguage('fr')" class="flex items-center gap-3 px-4 py-3 text-brand-dark hover:bg-brand-light transition" role="menuitem">
                                    <span class="text-xs font-semibold">FR</span>
                                    <span class="text-brand-dark">Français</span>
                                </a>
                                <a href="#" onclick="changeLanguage('pt')" class="flex items-center gap-3 px-4 py-3 text-brand-dark hover:bg-brand-light transition" role="menuitem">
                                    <span class="text-xs font-semibold">PT</span>
                                    <span class="text-brand-dark">Português</span>
                                </a>
                            </div>
                        </div>
                    </div>

                    <a href="/contact/" class="bg-brand-cta hover:bg-brand-ctaHover text-brand-surface px-6 py-2 rounded-lg font-bold transition shadow-md shadow-brand-cta/20 hover:shadow-lg transform hover:-translate-y-0.5" data-i18n="navigation.dealer_login" data-cta="nav_get_price_list">
                        Quote now
                    </a>
                </div>

                <div class="lg:hidden flex items-center gap-4">
                    <button id="mobile-menu-btn" class="text-brand-dark text-2xl p-2 hover:bg-brand-light/50 rounded-lg transition" type="button" aria-label="Toggle mobile menu" aria-expanded="false" aria-controls="mobile-menu">
                        <i class="fa-solid fa-bars" aria-hidden="true"></i>
                    </button>
                </div>
            </div>
        </div>

        <div id="mobile-menu" class="lg:hidden bg-brand-surface/95 border-b border-brand-border hidden backdrop-blur">
            <div class="px-4 pt-2 pb-6 space-y-2">
                <a href="/" class="block px-3 py-3 rounded-md text-base font-semibold text-brand-dark hover:bg-brand-light hover:text-brand-accent" data-i18n="navigation.home">Home</a>
                <a href="/catalog/" class="block px-3 py-3 rounded-md text-base font-semibold text-brand-dark hover:bg-brand-light hover:text-brand-accent" data-i18n="navigation.catalog">Catalog</a>
                <a href="/oem/" class="block px-3 py-3 rounded-md text-base font-semibold text-brand-dark hover:bg-brand-light hover:text-brand-accent" data-i18n="navigation.oem">OEM/ODM</a>
                <a href="/about/" class="block px-3 py-3 rounded-md text-base font-semibold text-brand-dark hover:bg-brand-light hover:text-brand-accent" data-i18n="navigation.about">About</a>
                <a href="/blog/" class="block px-3 py-3 rounded-md text-base font-semibold text-brand-dark hover:bg-brand-light hover:text-brand-accent" data-i18n="navigation.blog">Blog</a>
                <a href="/contact/" class="block px-3 py-3 rounded-md text-base font-semibold text-brand-cta font-bold" data-i18n="navigation.contact" data-cta="mobile_get_price_list">Quote now</a>
                <div class="pt-4 border-t border-brand-border">
                    <p class="px-3 text-xs uppercase tracking-wide text-brand-light/60">Language</p>
                    <div class="px-3 mt-2 flex flex-wrap gap-2">
                        <button type="button" onclick="changeLanguage('en')" class="glass-chip px-3 py-1 text-xs font-semibold text-brand-dark hover:text-brand-accent transition">EN</button>
                        <button type="button" onclick="changeLanguage('es')" class="glass-chip px-3 py-1 text-xs font-semibold text-brand-dark hover:text-brand-accent transition">ES</button>
                        <button type="button" onclick="changeLanguage('de')" class="glass-chip px-3 py-1 text-xs font-semibold text-brand-dark hover:text-brand-accent transition">DE</button>
                        <button type="button" onclick="changeLanguage('it')" class="glass-chip px-3 py-1 text-xs font-semibold text-brand-dark hover:text-brand-accent transition">IT</button>
                        <button type="button" onclick="changeLanguage('fr')" class="glass-chip px-3 py-1 text-xs font-semibold text-brand-dark hover:text-brand-accent transition">FR</button>
                        <button type="button" onclick="changeLanguage('pt')" class="glass-chip px-3 py-1 text-xs font-semibold text-brand-dark hover:text-brand-accent transition">PT</button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <main class="pt-28 pb-24 bg-brand-light backdrop-blur min-h-screen">
        <section class="pb-10">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex flex-col gap-6">
                    <div class="space-y-3">
                        <p class="text-xs uppercase tracking-wider text-brand-muted font-semibold">Installer Hub</p>
                        <h1 class="text-4xl md:text-5xl font-bold text-brand-dark" data-i18n="blog.title">{{ site.blogTitle }}</h1>
                        <p class="text-brand-muted max-w-2xl" data-i18n="blog.subtitle">{{ site.blogDescription }}</p>
                    </div>
                    <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 border border-brand-border/60 bg-brand-surface/80 rounded-xl px-4 py-3">
                        <div class="flex items-center gap-2 overflow-x-auto pb-1 lg:pb-0" role="tablist" aria-label="Topic filters">
                            <button type="button" class="topic-filter-btn active px-4 py-2 rounded-full text-sm font-semibold whitespace-nowrap" data-topic="all" aria-pressed="true">All</button>
                            <button type="button" class="topic-filter-btn px-4 py-2 rounded-full text-sm font-semibold whitespace-nowrap" data-topic="technical-guides" aria-pressed="false">Technical Guides</button>
                            <button type="button" class="topic-filter-btn px-4 py-2 rounded-full text-sm font-semibold whitespace-nowrap" data-topic="case-studies" aria-pressed="false">Case Studies</button>
                            <button type="button" class="topic-filter-btn px-4 py-2 rounded-full text-sm font-semibold whitespace-nowrap" data-topic="industry-news" aria-pressed="false">Industry News</button>
                            <button type="button" class="topic-filter-btn px-4 py-2 rounded-full text-sm font-semibold whitespace-nowrap" data-topic="rf-basics" aria-pressed="false">RF Basics</button>
                            <button type="button" class="topic-filter-btn px-4 py-2 rounded-full text-sm font-semibold whitespace-nowrap" data-topic="installation-guides" aria-pressed="false">Installation Guides</button>
                            <button type="button" class="topic-filter-btn px-4 py-2 rounded-full text-sm font-semibold whitespace-nowrap" data-topic="programming" aria-pressed="false">Programming</button>
                        </div>
                        <div class="relative w-full lg:w-64">
                            <label for="blogSearch" class="sr-only">Search articles</label>
                            <input type="search" id="blogSearch" placeholder="Search articles..." class="w-full bg-brand-light border border-brand-border/60 rounded-lg pl-10 pr-4 py-2.5 text-sm text-brand-dark focus:border-brand-accent focus:ring-2 focus:ring-brand-accent/20 outline-none transition">
                            <i class="fa-solid fa-search absolute left-3 top-3 text-brand-muted text-sm"></i>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        {% set featured = collections.posts | getFeatured %}
        {% set primaryFeatured = featured %}
        {% if not primaryFeatured and (posts | length) %}
            {% set primaryFeatured = posts[0] %}
        {% endif %}
        {% set visiblePosts = posts %}
        {% if pagination.pageNumber == 0 %}
            {% if featured %}
                {% set visiblePosts = posts | excludeFeatured %}
            {% else %}
                {% set visiblePosts = posts | slice(1) %}
            {% endif %}
        {% endif %}
        {% set secondaryFeatured = [] %}
        {% set gridPosts = visiblePosts %}
        {% set defaultCardImage = '/assets/factory/team.webp' %}
        {% if pagination.pageNumber == 0 %}
            {% set secondaryFeatured = visiblePosts | slice(0, 2) %}
            {% set gridPosts = visiblePosts | slice(2) %}
        {% endif %}

        {% if pagination.pageNumber == 0 and primaryFeatured %}
        <section class="pb-12">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                {% if secondaryFeatured.length %}
                <div class="grid grid-cols-1 lg:grid-cols-[minmax(0,2fr)_minmax(0,1fr)] gap-6">
                    <article class="bg-brand-surface border border-brand-border/60 rounded-xl overflow-hidden shadow-sm flex flex-col group" data-post-card data-title="{{ primaryFeatured.data.title | escape }}" data-summary="{{ primaryFeatured.data.summary | escape }}" data-category="{{ primaryFeatured.data.category | slugify }}" data-tags="{{ primaryFeatured.data.tags | contentTags | joinSlugList }}" data-author="{{ primaryFeatured.data.author | default('GateRemoteSource') | escape }}">
                        <div class="grid grid-cols-1 md:grid-cols-2">
                            <div class="blog-card-media relative min-h-[220px] overflow-hidden">
                                <img src="{{ primaryFeatured.data.hero_image | safeImage(defaultCardImage) }}" alt="{{ primaryFeatured.data.hero_alt or primaryFeatured.data.title }}" class="w-full h-full object-cover group-hover:scale-105 transition duration-500">
                            </div>
                            <div class="p-6 flex flex-col gap-3">
                                <span class="inline-flex items-center text-xs font-semibold uppercase tracking-wide text-brand-accent bg-brand-light/80 border border-brand-border/60 px-3 py-1 rounded-full">{{ primaryFeatured.data.category }}</span>
                                <h2 class="text-2xl md:text-3xl font-bold text-brand-dark leading-tight group-hover:text-brand-accent transition">{{ primaryFeatured.data.title }}</h2>
                                <div class="text-xs text-brand-muted">{{ primaryFeatured.date | readableDate }} | {{ primaryFeatured.data.author or "GateRemoteSource" }} | {{ primaryFeatured.data.read_time }}</div>
                                <p class="text-brand-muted text-sm leading-relaxed line-clamp-3 flex-1">{{ primaryFeatured.data.summary }}</p>
                                <a href="{{ primaryFeatured.url }}" class="mt-auto text-brand-accent font-semibold text-sm inline-flex items-center">Read Article <i class="fa-solid fa-arrow-right ml-2 text-xs"></i></a>
                            </div>
                        </div>
                    </article>
                    <div class="grid grid-cols-1 gap-6">
                        {% for post in secondaryFeatured %}
                        <article class="bg-brand-surface border border-brand-border/60 rounded-xl overflow-hidden shadow-sm flex flex-col group" data-post-card data-title="{{ post.data.title | escape }}" data-summary="{{ post.data.summary | escape }}" data-category="{{ post.data.category | slugify }}" data-tags="{{ post.data.tags | contentTags | joinSlugList }}" data-author="{{ post.data.author | default('GateRemoteSource') | escape }}">
                            <div class="blog-card-media blog-card-media--sm relative h-44 overflow-hidden">
                                <img loading="lazy" decoding="async" src="{{ post.data.hero_image | safeImage(defaultCardImage) }}" alt="{{ post.data.hero_alt or post.data.title }}" class="w-full h-full object-cover group-hover:scale-105 transition duration-500">
                            </div>
                            <div class="p-5 flex flex-col gap-3 flex-1">
                                <span class="inline-flex items-center text-xs font-semibold uppercase tracking-wide text-brand-accent bg-brand-light/80 border border-brand-border/60 px-3 py-1 rounded-full">{{ post.data.category }}</span>
                                <h3 class="text-lg font-bold text-brand-dark leading-tight group-hover:text-brand-accent transition">{{ post.data.title }}</h3>
                                <div class="text-xs text-brand-muted">{{ post.date | readableDate }} | {{ post.data.author or "GateRemoteSource" }} | {{ post.data.read_time }}</div>
                                <p class="text-brand-muted text-sm line-clamp-2 flex-1">{{ post.data.summary }}</p>
                                <a href="{{ post.url }}" class="mt-auto text-brand-accent font-semibold text-sm inline-flex items-center">Read Article <i class="fa-solid fa-arrow-right ml-2 text-xs"></i></a>
                            </div>
                        </article>
                        {% endfor %}
                    </div>
                </div>
                {% else %}
                <article class="bg-brand-surface border border-brand-border/60 rounded-xl overflow-hidden shadow-sm flex flex-col group" data-post-card data-title="{{ primaryFeatured.data.title | escape }}" data-summary="{{ primaryFeatured.data.summary | escape }}" data-category="{{ primaryFeatured.data.category | slugify }}" data-tags="{{ primaryFeatured.data.tags | contentTags | joinSlugList }}" data-author="{{ primaryFeatured.data.author | default('GateRemoteSource') | escape }}">
                    <div class="grid grid-cols-1 md:grid-cols-2">
                        <div class="blog-card-media relative min-h-[220px] overflow-hidden">
                            <img src="{{ primaryFeatured.data.hero_image | safeImage(defaultCardImage) }}" alt="{{ primaryFeatured.data.hero_alt or primaryFeatured.data.title }}" class="w-full h-full object-cover group-hover:scale-105 transition duration-500">
                        </div>
                        <div class="p-6 flex flex-col gap-3">
                            <span class="inline-flex items-center text-xs font-semibold uppercase tracking-wide text-brand-accent bg-brand-light/80 border border-brand-border/60 px-3 py-1 rounded-full">{{ primaryFeatured.data.category }}</span>
                            <h2 class="text-2xl md:text-3xl font-bold text-brand-dark leading-tight group-hover:text-brand-accent transition">{{ primaryFeatured.data.title }}</h2>
                            <div class="text-xs text-brand-muted">{{ primaryFeatured.date | readableDate }} | {{ primaryFeatured.data.author or "GateRemoteSource" }} | {{ primaryFeatured.data.read_time }}</div>
                            <p class="text-brand-muted text-sm leading-relaxed line-clamp-3 flex-1">{{ primaryFeatured.data.summary }}</p>
                            <a href="{{ primaryFeatured.url }}" class="mt-auto text-brand-accent font-semibold text-sm inline-flex items-center">Read Article <i class="fa-solid fa-arrow-right ml-2 text-xs"></i></a>
                        </div>
                    </div>
                </article>
                {% endif %}
            </div>
        </section>
        {% endif %}

        <section class="pb-8">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    {% for post in gridPosts %}
                    <article class="bg-brand-surface border border-brand-border/60 rounded-xl overflow-hidden shadow-sm flex flex-col group" data-post-card data-title="{{ post.data.title | escape }}" data-summary="{{ post.data.summary | escape }}" data-category="{{ post.data.category | slugify }}" data-tags="{{ post.data.tags | contentTags | joinSlugList }}" data-author="{{ post.data.author | default('GateRemoteSource') | escape }}">
                        <div class="blog-card-media blog-card-media--grid relative h-48 overflow-hidden">
                            <img loading="lazy" decoding="async" src="{{ post.data.hero_image | safeImage(defaultCardImage) }}" alt="{{ post.data.hero_alt or post.data.title }}" class="w-full h-full object-cover group-hover:scale-105 transition duration-500">
                        </div>
                        <div class="p-5 flex flex-col gap-3 flex-1">
                            <span class="inline-flex items-center text-xs font-semibold uppercase tracking-wide text-brand-accent bg-brand-light/80 border border-brand-border/60 px-3 py-1 rounded-full">{{ post.data.category }}</span>
                            <h3 class="text-lg font-bold text-brand-dark leading-tight group-hover:text-brand-accent transition">{{ post.data.title }}</h3>
                            <div class="text-xs text-brand-muted">{{ post.date | readableDate }} | {{ post.data.author or "GateRemoteSource" }} | {{ post.data.read_time }}</div>
                            <p class="text-brand-muted text-sm line-clamp-3 flex-1">{{ post.data.summary }}</p>
                            <a href="{{ post.url }}" class="mt-auto text-brand-accent font-semibold text-sm inline-flex items-center">Read Article <i class="fa-solid fa-arrow-right ml-2 text-xs"></i></a>
                        </div>
                    </article>
                    {% endfor %}
                </div>
                <p id="no-results" class="hidden text-brand-muted mt-8" data-i18n="blog.no_articles">No articles found.</p>
            </div>
        </section>

        {% if pagination.pages.length > 1 %}
        <div class="mt-8 flex justify-center gap-2" aria-label="Blog pagination">
            {% if pagination.previousPageHref %}
            <a href="{{ pagination.previousPageHref }}" class="w-10 h-10 rounded-lg bg-brand-surface border border-brand-border/60 text-brand-muted hover:border-brand-accent hover:text-brand-dark transition flex items-center justify-center" aria-label="Previous page">
                <i class="fa-solid fa-chevron-left"></i>
            </a>
            {% endif %}
            {% for href in pagination.hrefs %}
            <a href="{{ href }}" class="w-10 h-10 rounded-lg {% if pagination.pageNumber == loop.index0 %}bg-brand-cta text-white font-bold{% else %}bg-brand-surface border border-brand-border/60 text-brand-muted hover:border-brand-accent hover:text-brand-dark{% endif %} transition flex items-center justify-center">{{ loop.index }}</a>
            {% endfor %}
            {% if pagination.nextPageHref %}
            <a href="{{ pagination.nextPageHref }}" class="w-10 h-10 rounded-lg bg-brand-surface border border-brand-border/60 text-brand-muted hover:border-brand-accent hover:text-brand-dark transition flex items-center justify-center" aria-label="Next page">
                <i class="fa-solid fa-chevron-right"></i>
            </a>
            {% endif %}
        </div>
        {% endif %}
    </main>

    <section class="py-16 bg-brand-light border-t border-brand-border">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h2 class="text-3xl font-bold text-brand-dark mb-4">Stay Updated with Latest Tips</h2>
            <p class="text-brand-muted mb-8">Get weekly technical guides and market insights delivered to your inbox.</p>
            <form id="newsletterForm" class="flex flex-col sm:flex-row gap-4 max-w-md mx-auto">
                <input id="newsletterEmail" name="email" type="email" placeholder="Enter your email" required class="flex-1 bg-brand-light border border-brand-border rounded-lg px-4 py-3 text-brand-dark focus:border-brand-accent outline-none transition">
                <button type="submit" class="bg-brand-cta hover:bg-brand-ctaHover text-white px-6 py-3 rounded-lg font-bold transition">Subscribe</button>
            </form>
            <p id="newsletter-status" class="text-sm text-brand-muted mt-3 hidden" aria-live="polite"></p>
        </div>
    </section>

    <section class="py-16 bg-brand-light relative overflow-hidden">
        <div class="absolute inset-0 bg-brand-dark/10"></div>
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10 flex flex-col md:flex-row items-center justify-between gap-8 text-center md:text-left">
            <div>
                <h2 class="text-3xl font-bold text-brand-dark mb-2" data-i18n="pre_footer.title">Need Technical Support?</h2>
                <p class="text-brand-muted text-lg" data-i18n="pre_footer.subtitle">Our engineering team is here to help with your installation challenges.</p>
            </div>
            <a href="/contact/" class="bg-brand-cta text-white px-8 py-3 rounded-full font-bold hover:bg-brand-ctaHover transition shadow-lg shadow-brand-cta/20">
                <span data-i18n="pre_footer.order_samples">Get Support</span>
            </a>
        </div>
    </section>

    <footer class="bg-brand-light pt-20 pb-10 border-t border-brand-border text-brand-dark/80 text-base">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="bg-brand-surface border border-brand-border rounded-xl p-6 mb-12">
                <p class="text-sm text-brand-muted text-center" data-i18n="footer.legal_disclaimer">
                    Disclaimer: All product names, logos, and brands are property of their respective owners. All company, product and service names used in this website are for identification purposes only. Use of these names, logos, and brands does not imply endorsement.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-4 gap-12 mb-12">
                <div>
                    <div class="flex items-center gap-3 mb-4 text-brand-dark">
                        <img src="/logo/logo.png" width="40" height="40" alt="GateRemoteSource logo" class="site-footer-logo-icon h-10 w-auto object-contain">
                    </div>
                    <p class="mb-4 text-brand-muted/70" data-i18n="footer.company_description">Your Profit Partner in Access Control. Supplying locksmiths worldwide.</p>
                </div>
                <div>
                    <h4 class="text-brand-dark font-bold mb-4" data-i18n="footer.products">Products</h4>
                    <ul class="space-y-2">
                        <li><a href="/catalog/" class="hover:text-brand-accent" data-i18n="footer.remotes">Remotes</a></li>
                        <li><a href="/catalog/" class="hover:text-brand-accent" data-i18n="footer.receivers">Receivers</a></li>
                        <li><a href="/catalog/" class="hover:text-brand-accent" data-i18n="footer.smart_home">Smart Home</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-brand-dark font-bold mb-4" data-i18n="footer.contact">Contact</h4>
                    <ul class="space-y-2">
                        <li><a href="mailto:sales@gateremotesource.com" class="hover:text-brand-accent" data-i18n="footer.email_sales">sales@gateremotesource.com</a></li>
                        <li><a href="https://wa.me/8615899648898" class="hover:text-brand-accent" data-i18n="footer.whatsapp">+86 158 9964 8898</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-brand-dark font-bold mb-4" data-i18n="footer.address">Address</h4>
                    <p class="flex items-start gap-2"><i class="fa-solid fa-location-dot mt-1 text-brand-accent"></i><span data-i18n="footer.address_text">Huawei Kegu Industrial Park, Dalingshan Town, Dongguan, Guangdong, China</span></p>
                </div>
            </div>
            <div class="text-center pt-8 border-t border-brand-border">
                <span data-i18n="footer.copyright">&copy; 2026 GateRemoteSource. All rights reserved.</span>
            </div>
        </div>
    </footer>

    <a href="https://wa.me/8615899648898" target="_blank" class="whatsapp-float fixed bottom-6 right-6 z-50 bg-brand-cta hover:bg-brand-ctaHover text-white rounded-full p-4 shadow-lg flex items-center justify-center transition transform hover:scale-105">
        <i class="fa-brands fa-whatsapp text-4xl"></i>
    </a>

    <script>
        const supportedLangs = ['en', 'es', 'de', 'it', 'fr', 'pt'];
        const defaultLang = 'en';
        let currentLanguage = defaultLang;
        let translations = {};

        async function loadTranslations(lang) {
            try {
                const response = await fetch(`/locales/${lang}.json`);
                translations = await response.json();
                applyTranslations();
            } catch (error) {
                console.error('Error loading translations:', error);
            }
        }

        function getNestedValue(obj, path) {
            return path.split('.').reduce((current, key) => {
                return current && current[key] !== undefined ? current[key] : null;
            }, obj);
        }

        function applyTranslations() {
            const metaOverride = document.body && document.body.dataset && document.body.dataset.metaOverride === 'true';
            const metaPage = document.body && document.body.dataset ? document.body.dataset.metaPage : '';
            const pageMeta = translations.meta && metaPage && translations.meta[metaPage] ? translations.meta[metaPage] : translations.meta;
            if (metaOverride && pageMeta) {
                if (pageMeta.title) document.getElementById('meta-title').textContent = pageMeta.title;
                if (pageMeta.description) document.getElementById('meta-description').content = pageMeta.description;
                if (pageMeta.keywords) document.getElementById('meta-keywords').content = pageMeta.keywords;
            }

            document.querySelectorAll('[data-i18n-html]').forEach(element => {
                const key = element.getAttribute('data-i18n-html');
                const value = getNestedValue(translations, key);
                if (value !== null && value !== undefined) {
                    element.innerHTML = value;
                }
            });

            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                const value = getNestedValue(translations, key);
                if (value !== null && value !== undefined) {
                    if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                        element.placeholder = value;
                    } else {
                        element.textContent = value;
                    }
                }
            });

            const copyrightElement = document.querySelector('[data-i18n="footer.copyright"]');
            if (copyrightElement && translations.footer && translations.footer.copyright) {
                copyrightElement.textContent = translations.footer.copyright.replace('{year}', '2026');
            }
        }

        function stripLangPrefix(pathname) {
            const parts = pathname.split('/');
            if (parts.length > 1 && supportedLangs.includes(parts[1])) {
                const remainder = '/' + parts.slice(2).join('/');
                return remainder === '/' ? '/' : remainder;
            }
            return pathname;
        }

        function getLangFromPath(pathname) {
            const parts = pathname.split('/');
            return parts.length > 1 && supportedLangs.includes(parts[1]) ? parts[1] : null;
        }

        function isBlogPostPath(pathname) {
            const normalized = pathname.endsWith('/') ? pathname : `${pathname}/`;
            if (normalized === '/blog/' || normalized === '/blog/page/') return false;
            return normalized.startsWith('/blog/') && !normalized.startsWith('/blog/page/');
        }

        function buildLangPath(lang, pathname = window.location.pathname) {
            const cleanPath = stripLangPrefix(pathname);
            if (lang === defaultLang) return cleanPath;
            if (isBlogPostPath(cleanPath)) return `/${lang}/blog/`;
            return cleanPath === '/' ? `/${lang}/` : `/${lang}${cleanPath}`;
        }

        function setLanguageUI(lang) {
            const flags = {
                'en': 'EN',
                'es': 'ES',
                'de': 'DE',
                'it': 'IT',
                'fr': 'FR',
                'pt': 'PT'
            };

            const langNames = {
                'en': 'English',
                'es': 'Español',
                'de': 'Deutsch',
                'it': 'Italiano',
                'fr': 'Français',
                'pt': 'Português'
            };

            const flagElement = document.getElementById('currentFlag');
            const langElement = document.getElementById('currentLang');
            if (flagElement) flagElement.textContent = flags[lang] || flags[defaultLang];
            if (langElement) langElement.textContent = langNames[lang] || langNames[defaultLang];
            document.documentElement.setAttribute('lang', lang);
        }

        function changeLanguage(lang) {
            if (!supportedLangs.includes(lang)) lang = defaultLang;
            const targetPath = buildLangPath(lang, window.location.pathname);
            if (targetPath !== window.location.pathname) {
                const url = new URL(window.location.href);
                url.pathname = targetPath;
                url.searchParams.delete('lang');
                window.location.href = url.toString();
                return;
            }
            currentLanguage = lang;
            setLanguageUI(lang);
            loadTranslations(lang);

            const dropdown = document.getElementById('languageDropdown');
            if (dropdown) dropdown.classList.add('hidden');
        }

        document.getElementById('languageDropdownBtn').addEventListener('click', function() {
            const dropdown = document.getElementById('languageDropdown');
            const button = document.getElementById('languageDropdownBtn');
            dropdown.classList.toggle('hidden');
            button.setAttribute('aria-expanded', dropdown.classList.contains('hidden') ? 'false' : 'true');
        });

        document.addEventListener('click', function(event) {
            const dropdown = document.getElementById('languageDropdown');
            const button = document.getElementById('languageDropdownBtn');
            if (!button.contains(event.target) && !dropdown.contains(event.target)) {
                dropdown.classList.add('hidden');
            }
        });

        const mobileBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');

        if (mobileBtn && mobileMenu) {
            mobileBtn.addEventListener('click', () => {
                const isHidden = mobileMenu.classList.contains('hidden');
                mobileMenu.classList.toggle('hidden');
                mobileBtn.setAttribute('aria-expanded', isHidden ? 'true' : 'false');
            });
        }

        const newsletterForm = document.getElementById('newsletterForm');
        if (newsletterForm) {
            const statusEl = document.getElementById('newsletter-status');
            const emailInput = document.getElementById('newsletterEmail');

            newsletterForm.addEventListener('submit', async (event) => {
                event.preventDefault();

                const emailValue = emailInput ? emailInput.value.trim() : '';
                if (!emailValue || !emailInput.validity.valid) {
                    if (statusEl) {
                        statusEl.classList.remove('hidden');
                        statusEl.textContent = 'Please enter a valid email address.';
                    }
                    return;
                }

                if (statusEl) {
                    statusEl.classList.remove('hidden');
                    statusEl.textContent = 'Sending...';
                }

                try {
                    const formData = new FormData();
                    formData.append('email', emailValue);
                    formData.append('source', 'blog_newsletter');
                    const response = await fetch('https://formspree.io/f/xqakpznl', {
                        method: 'POST',
                        headers: { 'Accept': 'application/json' },
                        body: formData
                    });

                    if (response.ok) {
                        if (statusEl) statusEl.textContent = 'Thanks! You are subscribed.';
                        newsletterForm.reset();
                    } else {
                        if (statusEl) statusEl.textContent = 'Send failed. Please email sales@gateremotesource.com.';
                    }
                } catch (error) {
                    if (statusEl) statusEl.textContent = 'Network issue. Please email sales@gateremotesource.com.';
                }
            });
        }

        const searchInput = document.getElementById('blogSearch');
        const topicFilterButtons = Array.from(document.querySelectorAll('.topic-filter-btn'));
        const cards = Array.from(document.querySelectorAll('[data-post-card]'));
        const emptyState = document.getElementById('no-results');

        function normalizeValue(value) {
            return (value || '').toString().toLowerCase();
        }

        function getActiveTopic() {
            const activeButton = topicFilterButtons.find((btn) => btn.classList.contains('active'));
            return activeButton ? activeButton.dataset.topic : 'all';
        }

        function matchesTopic(card, topic) {
            if (topic === 'all') return true;
            const category = (card.getAttribute('data-category') || '').toLowerCase();
            const tags = (card.getAttribute('data-tags') || '').toLowerCase();
            const tokens = new Set(`${category}|${tags}`.split('|').filter(Boolean));
            return tokens.has(topic);
        }

        function matchesSearch(card, query) {
            if (!query) return true;
            const haystack = [
                card.getAttribute('data-title'),
                card.getAttribute('data-summary'),
                card.getAttribute('data-category'),
                card.getAttribute('data-tags'),
                card.getAttribute('data-author')
            ].join(' ').toLowerCase();
            return haystack.includes(query);
        }

        function applyFilters() {
            const query = normalizeValue(searchInput ? searchInput.value.trim() : '');
            const activeTopic = getActiveTopic();
            let visibleCount = 0;

            cards.forEach((card) => {
                const visible = matchesTopic(card, activeTopic) && matchesSearch(card, query);
                card.classList.toggle('hidden', !visible);
                if (visible) visibleCount += 1;
            });

            if (emptyState) {
                emptyState.classList.toggle('hidden', visibleCount > 0);
            }
        }

        topicFilterButtons.forEach((btn) => {
            btn.addEventListener('click', () => {
                topicFilterButtons.forEach((button) => {
                    button.classList.remove('active');
                    button.setAttribute('aria-pressed', 'false');
                });
                btn.classList.add('active');
                btn.setAttribute('aria-pressed', 'true');
                applyFilters();
            });
        });

        if (searchInput) {
            searchInput.addEventListener('input', applyFilters);
        }

        applyFilters();

        const url = new URL(window.location.href);
        const paramLang = url.searchParams.get('lang');
        let redirecting = false;
        if (supportedLangs.includes(paramLang)) {
            const targetPath = buildLangPath(paramLang, url.pathname);
            url.searchParams.delete('lang');
            if (targetPath !== url.pathname) {
                url.pathname = targetPath;
                window.location.replace(url.toString());
                redirecting = true;
            } else if (history.replaceState) {
                history.replaceState(null, '', url.toString());
            }
        }

        if (!redirecting) {
            const initialLang = getLangFromPath(window.location.pathname) || defaultLang;
            currentLanguage = initialLang;
            setLanguageUI(initialLang);
            loadTranslations(initialLang);
        }
    </script>
</body>
</html>
